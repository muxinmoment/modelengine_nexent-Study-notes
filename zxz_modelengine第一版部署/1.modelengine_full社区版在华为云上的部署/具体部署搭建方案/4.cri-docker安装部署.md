cri-docker是k8s与docker接口的桥梁,只有了cri-docker，k8s才能使用docker作为容器运行时

cri-docker安装部署具体步骤如下：
在官网release版本找到适合自己系统的版本 https://github.com/Mirantis/cri-dockerd/releases

步骤 1：下载 ARM64 版本 cri-docker
# 下载 cri-docker v0.3.1（ARM64 稳定版，兼容 Docker 20.10+、K8s 1.24+）
sudo curl -LO https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.21/cri-dockerd-0.3.21.arm64.tgz

步骤 2：验证下载文件有效性（关键！避免无效包）
# 查看文件大小（正常约 14MB 左右，不是几 KB 或 0KB）
ls -lh cri-dockerd-0.3.21.arm64.tgz

# 验证文件格式（输出含 "gzip compressed data" 即为有效压缩包）
file cri-dockerd-0.3.21.arm64.tgz

步骤 3：解压并安装二进制文件
# 解压压缩包（会生成 cri-dockerd 可执行文件）
sudo tar xzf cri-dockerd-0.3.21.arm64.tgz

# 移动二进制文件到系统全局目录（让所有用户可调用）（已修改）
# sudo mv cri-dockerd /usr/bin/
sudo mv cri-dockerd/cri-dockerd /usr/bin/
sudo chmod +x /usr/bin/cri-dockerd
# 验证安装成功（显示 v0.3.21 即为正确）（到这里报错，原因是cri-docker解压后有一个目录然后才是可执行文件，应该把真正的二进制文件放进去0
cri-dockerd --version
# 预期输出：cri-dockerd 0.3.21 (xxx)

步骤 4：创建 systemd 服务（实现开机自启 + 后台运行）
二进制包无默认服务，手动配置系统服务：

# 1. 下载官方 systemd 服务配置文件（适配 v0.3.21）
sudo curl -LO https://raw.githubusercontent.com/Mirantis/cri-dockerd/v0.3.21/packaging/systemd/cri-docker.service
sudo curl -LO https://raw.githubusercontent.com/Mirantis/cri-dockerd/v0.3.21/packaging/systemd/cri-docker.socket

# 2. 移动服务文件到系统指定目录
sudo mv cri-docker.service /etc/systemd/system/
sudo mv cri-docker.socket /etc/systemd/system/

# 3. 重新加载 systemd 配置（让系统识别新服务）
sudo systemctl daemon-reload

步骤 5：启动 cri-docker 并设置开机自启
# 启动服务
sudo systemctl start cri-docker

# 设置开机自启（服务器重启后自动运行）
sudo systemctl enable cri-docker

# 查看服务状态（必须显示 active(running)，无报错）
sudo systemctl status cri-docker
